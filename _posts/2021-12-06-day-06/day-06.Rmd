---
title: "Advent of code 2020 day 6"
description: |
  --- Day 6: Lanternfish ---
author:
  - name: Philippe Massicotte
    url: {}
date: 2021-12-06
output:
  distill::distill_article:
    self_contained: false
---


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(tidyverse)
library(here)

options(digits = 20)
```

```{r}
reproduction <- function(ndays, fishes) {
  for (i in seq_len(ndays)) {
    fishes

    new_fishes <- fishes[1]

    fishes_next <- lead(fishes, default = 0)[-9]
    fishes_next

    fishes_next[9] <- new_fishes
    fishes_next[7] <- new_fishes + fishes[8]

    fishes_next

    fishes <- fishes_next
  }

  return(fishes)
}

v <- scan(here("data/input/2021/06"), what = "integer", sep = ",") %>%
  parse_integer()

fishes <- rep(0, 9)
fc <- rle(sort(v))
fishes[fc$values + 1] <- fc$lengths
```

## Part 1

```{r}
res <- reproduction(ndays = 80, fishes)
sum(res)
```

## Part 2

```{r}
res <- reproduction(ndays = 256, fishes)
sum(res)
```
